<form>
  <nav class="tabs" data-group="primary-tabs">
    <a class="item" data-tab="general"><i class="fas fa-cog"></i> General</a>
    <a class="item" data-tab="weather"><i class="fas fa-cloud-sun"></i> Weather</a>
    <a class="item" data-tab="ai"><i class="fas fa-robot"></i> AI Settings</a>
  </nav>

  <section class="content">
    <!-- General Tab -->
    <div class="tab" data-tab="general" data-group="primary-tabs">
      <div class="form-group">
        <label>
          <input type="checkbox" name="useSimpleCalendar" {{checked settings.useSimpleCalendar}}>
          Use Simple Calendar
        </label>
        <p class="notes">Use Simple Calendar for time and season tracking</p>
      </div>

      <div class="form-group">
        <label>
          <input type="checkbox" name="autoUpdate" {{checked settings.autoUpdate}}>
          Auto-update Weather
        </label>
        <p class="notes">Automatically update weather when time passes</p>
      </div>

      <div class="form-group">
        <label>Weather Update Frequency (hours)</label>
        <div class="range-with-value">
          <input type="range" name="updateFrequency" value="{{settings.updateFrequency}}" min="1" max="24" step="1">
          <span class="range-value">{{settings.updateFrequency}}</span>
        </div>
        <p class="notes">How often to automatically update weather</p>
      </div>
    </div>

    <!-- Weather Tab -->
    <div class="tab" data-tab="weather" data-group="primary-tabs">
      <div class="form-group">
        <label>Terrain Type</label>
        <select name="terrain">
          {{#each terrainChoices as |name id|}}
          <option value="{{id}}" {{#if (eq ../settings.terrain id)}}selected{{/if}}>{{name}}</option>
          {{/each}}
        </select>
        <p class="notes">The type of terrain in the current area</p>
      </div>

      <div class="form-group">
        <label>Season</label>
        <select name="season" {{#if settings.useSimpleCalendar}}disabled{{/if}}>
          {{#each seasonChoices as |name id|}}
          <option value="{{id}}" {{#if (eq ../settings.season id)}}selected{{/if}}>{{name}}</option>
          {{/each}}
        </select>
        <p class="notes">Current season (disabled if using Simple Calendar)</p>
      </div>

      <div class="form-group">
        <label>Weather Variability</label>
        <div class="range-with-value">
          <input type="range" name="variability" value="{{settings.variability}}" min="1" max="10" step="1">
          <span class="range-value">{{settings.variability}}</span>
        </div>
        <p class="notes">How much the weather can change each update (1-10)</p>
      </div>

      <button type="button" class="preview-weather">
        <i class="fas fa-eye"></i> Preview Weather
      </button>
    </div>

    <!-- AI Settings Tab -->
    <div class="tab" data-tab="ai" data-group="primary-tabs">
      <div class="form-group">
        <label>
          <input type="checkbox" name="useLLM" {{checked settings.useLLM}}>
          Use AI for Descriptions
        </label>
        <p class="notes">Use OpenAI's ChatGPT to generate more dynamic weather descriptions</p>
      </div>

      <div class="form-group">
        <label>OpenAI API Key</label>
        <input type="password" name="llmApiKey" value="{{settings.llmApiKey}}">
        <p class="notes">Your OpenAI API key for ChatGPT weather descriptions</p>
      </div>
    </div>
  </section>

  <footer class="sheet-footer flexrow">
    <button type="submit">
      <i class="fas fa-save"></i> Save Changes
    </button>
  </footer>
</form> 